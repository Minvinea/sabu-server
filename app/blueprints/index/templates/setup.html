<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Setup</title>
    <!-- <link rel="stylesheet" href="../../../static/public/output.css" /> -->
    <link rel="stylesheet" href="{{ url_for('static',filename='public/output.css') }}" />
    <!-- <link rel="stylesheet" href="../../../static/assets/fontawesome/css/all.css" /> -->
    <link rel="stylesheet" href="{{ url_for('static',filename='assets/fontawesome/css/all.css') }}" />
    <link rel="icon" type="image/x-icon" href="{{ url_for('static',filename='assets/icons/sabu.ico') }}">
</head>
<body>
    <header class="bg-blue-600 text-white p-4">
        <h1 class="text-2xl font-bold flex justify-center">SABU - Setup</h1>
    </header>
    
    <form method="POST">
        {{ passwordform.hidden_tag() }}
        {{ networkform.hidden_tag() }}
        <div class="container mx-auto mt-10">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="container mx-auto">
                    <div class="bg-gray-200 p-4 shadow rounded-lg">
                        <h2 class="text-lg font-semibold mb-2">Readme !</h2>
                        <div class="mt-4">
                            <p>You are currently on the installation page.</p>
                            <p>To configure the whitestation, please fill in the following fields :</p>
                            <p>- Password for the admin page following the required syntax.</p>
                            <p>- Network configuration of the device by assigning a valid fixed IP as well as the other fields requested.</p>
                            <p>Once finished you can click on submit and wait for the device to restart.</p>
                        </div>
                    </div>
                </div>
                <div class="container mx-auto">
                    <div class="bg-gray-200 p-4 shadow rounded-lg">
                        <h2 class="text-lg font-semibold">Password - Admin Page</h2>
                        <div class="mt-7">
                            <label class="block mb-4">Syntax requirement : <br>- 12 upper/lower case characters <br>- 1 digit minimum <br>- 1 special characters minimum</label>
                            <div class="flex relative">
                                <span class="rounded-l-md inline-flex  items-center px-3 border-t bg-white border-l border-b  border-gray-300 text-gray-500 dark:bg-gray-600 dark:border-white dark:text-white shadow-sm text-sm">
                                    <svg width="15" height="15" fill="currentColor" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M1376 768q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-320q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45q0-106-75-181t-181-75-181 75-75 181v320h736z">
                                        </path>
                                    </svg>
                                </span>                               
                                {{ passwordform.password }}
                                <button id="toggleButton" type="button" class="absolute inset-y-0 right-0 px-3 py-2 bg-transparent">
                                    <div class="dark:text-white">
                                        <i id="toggleview" class="fa-solid fa-eye"></i>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container mx-auto">
                    <div class="bg-gray-200 p-4 shadow rounded-lg">
                        <h2 class="text-lg font-semibold">Network Settings</h2>
                        <div class="mt-4">
                            <label class="block mb-2">Interface :</label>
                            {{ networkform.interface }}
                        </div>    
                        <div class="mt-4">
                            <label class="block mb-2">IP Address :</label>
                            {{ networkform.ipaddr }}
                        </div>
                        <div class="mt-4">
                            <label class="block mb-2">Netmask :</label>
                            {{ networkform.netmask }}
                        </div>
                        <div class="mt-4">
                            <label class="block mb-2">Gateway :</label>
                            {{ networkform.gateway }}
                        </div>
                        <div class="mt-4">
                            <label class="block mb-2">DNS 1 :</label>
                            {{ networkform.dns1 }}
                        </div>
                        <div class="mt-4">
                            <label class="block mb-2">DNS 2 (Not required) :</label>
                            {{ networkform.dns2 }}
                        </div>
                    </div>
                </div>
                <div class="mt-8">
                    <button type="submit" name="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                        Submit
                    </button>
                </div>
            </div>
            {% if get_flashed_messages() %}
            <div>
                <br>
                <meta charset="utf-8">
                <b style="color: red;">{{ get_flashed_messages()[0] }}</b>
            </div>
            {% endif %}
        </div>
    </form>
    <script>
    const toggleButton = document.getElementById('toggleButton');
    const passwordInput = document.getElementById('passwordInput');
    
    toggleButton.addEventListener('click', function() {
        if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        document.getElementById("toggleview").classList.remove("fa-eye");
        document.getElementById("toggleview").classList.add("fa-eye-slash");
        } else {
        passwordInput.type = 'password';
        document.getElementById("toggleview").classList.remove("fa-eye-slash");
        document.getElementById("toggleview").classList.add("fa-eye");
        }
    });
    </script>
</body>
</html>